{"name":"bbbfedcbcaae","url":"index.html (等资源+2)","showName":"ZHX732","appid":"com.zhx732.app","icon":"","iconPath":"C:\\Users\\DELL\\AppData\\Roaming\\com.pakeplus.pacbao\\oevwleh9ur8.png","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.1","preview":"desktop","platform":["1-1","2-2"],"width":800,"height":600,"desc":"","jsFile":[],"filterCss":"","customJs":"// 判断系统类型\n\n// function getSystemType() {\n//     const ua = navigator.userAgent;\n//     const platform = navigator.platform;\n//     // iOS（包含 iPhone / iPad / iPod）\n//     if (/iPhone|iPad|iPod/i.test(ua)) {\n//         return \"iOS\";\n//     }\n//     // Android\n//     if (/Android/i.test(ua)) {\n//         return \"Android\";\n//     }\n//     // Windows\n//     if (/Win/i.test(platform)) {\n//         return \"Windows\";\n//     }\n//     // macOS\n//     if (/Mac/i.test(platform)) {\n//         return \"macOS\";\n//     }\n//     // Linux（排除 Android）\n//     if (/Linux/i.test(platform)) {\n//         return \"Linux\";\n//     }\n//     return \"Unknown\";\n// }\n// console.log(getSystemType());\n\n// 拦截链接保证主页地址传输\nconst addMark = (url) => {\n    if (!url) return url\n    if (url.includes('?domin='+domin)) return url\n    if (url.includes('?')&&url.includes('=')){\n       return url + '&domin='+domin\n    }else{\n       return url + '?domin='+domin \n    }\n}\n\n// 拦截所有 a 标签点击\ndocument.addEventListener('click', (e) => {\n    const a = e.target.closest('a')\n    if (a && a.href) {\n        a.href = addMark(a.href)\n    }\n})\n\n// 拦截 window.open\nconst _open = window.open\nwindow.open = function(url, ...rest) {\n    return _open.call(window, addMark(url), ...rest)\n}\n\n// 拦截 location.assign\nconst _assign = window.location.assign\nwindow.location.assign = function(url) {\n    _assign.call(window.location, addMark(url))\n}\n\n// 拦截 location.replace\nconst _replace = window.location.replace\nwindow.location.replace = function(url) {\n    _replace.call(window.location, addMark(url))\n}\n\n// 基本逻辑\nfunction containsSubstring(mainStr, subStr, caseSensitive = true) {\n    if (!caseSensitive) {\n        mainStr = mainStr.toLowerCase();\n        subStr = subStr.toLowerCase();\n    }\n    return mainStr.indexOf(subStr) !== -1;\n}\nvar temp = new URLSearchParams(window.location.search).get('domin')\nif (temp==null){\n    var domin = window.location.href\n}else{\n    //var domin = getSystemType()\n    var domin = temp\n}\nconsole.log(window.location);\nconsole.log(domin);\n\n// 初始化跳转\nconst hookClick = (e) => {\n    const origin = e.target.closest('a')\n    const isBaseTargetBlank = document.querySelector(\n        'head base[target=\"_blank\"]'\n    )\n    console.log('origin', origin, isBaseTargetBlank)\n    if (\n        (origin && origin.href && origin.target === '_blank') ||\n        (origin && origin.href && isBaseTargetBlank)\n    ) {\n        e.preventDefault()\n        console.log('handle origin', origin)\n        location.href = origin.href+'?domin='+domin\n    } else {\n        console.log('not handle origin', origin)\n    }\n}\n\nwindow.open = function (url, target, features) {\n    console.log('open', url, target, features)\n    console.log('real')\n    location.href = url+'?domin='+domin\n  \n}\n\ndocument.addEventListener('click', hookClick, { capture: true })\n\n\n\n\n// 主页按钮设计\nwindow.addEventListener('DOMContentLoaded', () => {\n    const btn = document.createElement('div')\n    btn.innerText = '主页'\n    btn.style.position = 'fixed'\n    btn.style.bottom = '30px'\n    btn.style.right = '20px'\n    btn.style.width = '60px'\n    btn.style.height = '60px'\n    btn.style.background = 'rgba(255, 80, 80, 0.95)'\n    btn.style.color = '#fff'\n    btn.style.fontSize = '16px'\n    btn.style.fontWeight = 'bold'\n    btn.style.display = 'flex'\n    btn.style.alignItems = 'center'\n    btn.style.justifyContent = 'center'\n    btn.style.borderRadius = '50%'\n    btn.style.zIndex = '99999'\n    btn.style.userSelect = 'none'\n    btn.style.cursor = 'pointer'\n    btn.style.boxShadow = '0 4px 12px rgba(0,0,0,0.25)'\n    document.body.appendChild(btn)\n\n    let isDragging = false\n    let moved = false\n    let startX = 0\n    let startY = 0\n    let originX = 0\n    let originY = 0\n\n    const start = (e) => {\n        const touch = e.touches ? e.touches[0] : e\n        isDragging = true\n        moved = false\n        startX = touch.clientX\n        startY = touch.clientY\n        originX = btn.offsetLeft\n        originY = btn.offsetTop\n    }\n\n    const move = (e) => {\n        if (!isDragging) return\n        const touch = e.touches ? e.touches[0] : e\n        const dx = touch.clientX - startX\n        const dy = touch.clientY - startY\n\n        if (Math.abs(dx) > 3 || Math.abs(dy) > 3) moved = true\n\n        btn.style.left = originX + dx + 'px'\n        btn.style.top = originY + dy + 'px'\n        btn.style.right = 'auto'\n    }\n\n    const end = () => {\n        if (!isDragging) return\n        isDragging = false\n\n        if (!moved) {\n            if (containsSubstring(domin,\"file:///\")){\n                window.history.go(-window.history.length + 1);\n            }else{\n            window.location.href = domin\n            }\n            return\n        }\n\n        // 自动吸边\n        const screenW = window.innerWidth\n        const btnW = btn.offsetWidth\n        const currentLeft = btn.offsetLeft\n\n        const targetLeft = currentLeft + btnW / 2 < screenW / 2\n            ? 10\n            : screenW - btnW - 10\n\n        btn.style.transition = 'left 0.25s ease'\n        btn.style.left = targetLeft + 'px'\n\n        setTimeout(() => {\n            btn.style.transition = ''\n        }, 300)\n    }\n\n    btn.addEventListener('mousedown', start)\n    btn.addEventListener('touchstart', start)\n\n    window.addEventListener('mousemove', move)\n    window.addEventListener('touchmove', move)\n\n    window.addEventListener('mouseup', end)\n    window.addEventListener('touchend', end)\n})\n","isHtml":true,"htmlPath":"C:\\Users\\DELL\\Desktop\\zhx732","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v2.1.5","iosRepo":"PakePlus-iOS-v2.1.5","androidRepo":"PakePlus-Android-v2.1.5","more":{"windows":{"label":"","title":"ZHX732","url":"index.html (等资源+2)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36","width":800,"height":600,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"fullScreen":false,"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"bbbfedcbcaae","showName":"ZHX732","version":"0.0.1","webUrl":"index.html (等资源+2)","id":"com.zhx732.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":true,"debug":false,"safeArea":"all"},"android":{"name":"bbbfedcbcaae","showName":"ZHX732","version":"0.0.1","webUrl":"index.html (等资源+2)","id":"com.zhx732.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":true,"debug":false,"safeArea":"all"},"desktop":{"name":"bbbfedcbcaae","showName":"ZHX732","version":"0.0.1","id":"com.zhx732.app.desktop","desc":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","webUrl":"index.html (等资源+2)","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","isHtml":true,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"cloud","debug":false}}